<template  id="temp">
<style>
   .warpper{
	  display:flex;
	  flex-direction:row;
	  justify-content:space-between;
	  padding:10px;
	  color:red;
   }
   label{
	  flex:1 1;
   }
   input{
	  flex:2 2;
   }
</style>
<div class="warpper">
<label></label>
<input type="text" value="" onchange=""></input>
</div>

</template>

<script>
 (function(){
  var content=document.currentScript.ownerDocument.querySelector("#temp").content;
  var interfaceEle=Object.create(HTMLElement.prototype);

  var updateTempDom=function(clonedNode,label,value,changeCallback){
	label&&(clonedNode.querySelector("label").textContent=label);
	var inputEle=clonedNode.querySelector("input");
	value&&(inputEle.value=value);
	value&&(inputEle.setAttribute("value",value));
	changeCallback&&(inputEle.setAttribute("onchange",changeCallback+"(this.value)"));
  }
  interfaceEle.observedAttributes=["label","value","changed"];
  interfaceEle.attributeChangedCallback=function(name,oldValue,newValue){
     if(name==="label"){
	    var label=newValue;
	 }else if(name==="value"){
	    var value=newValue;
	 }else if(name==="changed"){
		var changeCallback=newValue;
	 }
	 updateTempDom(this.shadowRoot,label,value,changeCallback);
  }
  
  interfaceEle.createdCallback=function(){
     var shadowRoot=this.createShadowRoot();
	 var label=this.attributes['label'].value;
	 var value=this.attributes['value'].value;
	 var changeCallback=this.attributes['changed'].value;
     var clonedNode=document.importNode(content,true);
	 updateTempDom(clonedNode,label,value,changeCallback);
	 shadowRoot.appendChild(clonedNode);
  }
 document.registerElement("input-with-label",{prototype:interfaceEle});
 }());
</script>